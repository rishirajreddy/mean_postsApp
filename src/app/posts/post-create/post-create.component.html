<!-- //One-way binding -->
<!-- <textarea  rows="10" [value]="newPost" #postInput></textarea>   //'#' refers to local reference  -->

<!-- //Two-way binding -->
<mat-card>
    <mat-spinner
    *ngIf="isLoading"
    strokeWidth="8"
    diameter="50"
></mat-spinner>
    <form
    [formGroup]="form"
        *ngIf="!isLoading"
        (ngSubmit)="onSavePost()"
    >
        <mat-form-field>
            <input 
            matInput 
            type="text"
            formControlName="title"
            placeholder="Enter title"
            >
            <mat-error 
            *ngIf="form.controls['title'].invalid && form.controls['title'].touched">Please enter a post title</mat-error>
        </mat-form-field>
        <div>
            <button mat-stroked-button type="button" (click)="pickFile.click()">Pick Image</button>
            <input type="file" #pickFile (change)="onImagePicked($event)">
        </div>
        <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.controls['image'].valid">
            <img [src]="imagePreview" [alt]="form.value.title">
            <!-- <p>{{imagePreview}}</p> -->
        </div>
        <mat-form-field>
            <textarea 
            matInput 
            rows="6" 
            formControlName="content"
            placeholder="Enter content"
            ></textarea>
            <mat-error *ngIf="form.controls['content'].invalid && form.controls['content'].touched">Please enter a post content</mat-error>
        </mat-form-field>
        <button 
        mat-raised-button
        type="submit"
        [disabled]="!form.valid"
        color="primary">Save Post</button>
    </form>
</mat-card>

<!-- error modal -->
<!-- <ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Login Failed</h4>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
      </div>
      <div class="modal-body"><h3 style="color: red;">{{errorMessage}}</h3>
      </div>
</ng-template> -->
<!-- <hr> -->
<!-- <p>{{newPost}}</p> -->